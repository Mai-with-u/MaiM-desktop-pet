# ===================================================================
# 麦麦桌面宠物配置文件模板
# ===================================================================
# 
# 使用说明：
# 1. 复制此文件为 config.toml
# 2. 根据你的需求修改配置项
# 3. 保存并运行程序
#
# 注意：所有配置项都有默认值，可以只修改必要的部分
# ===================================================================

# ----------------------------------------------------------------------
# 基础配置
# ----------------------------------------------------------------------

# WebSocket 服务器地址（必填）
# 连接到麦麦后端服务器的 WebSocket 地址
url = "ws://127.0.0.1:8000/ws"

# 桌宠昵称
Nickname = "麦麦"

# 用户昵称（可选）
userNickname = ""

# 平台标识
# 如果启用 allow_multiple_source_conversion，会自动添加 UUID
platform = "desktop-pet"

# 是否隐藏控制台窗口
# true: 启动时隐藏终端窗口
# false: 启动时显示终端窗口
hide_console = false

# 截图快捷键
# 支持的格式：Ctrl+Shift+A, Alt+F4, F5 等
# 留空则不启用快捷键
Screenshot_shortcuts = "Ctrl+Shift+A"

# 是否允许多源转换
# true: 允许多个桌宠实例同时连接
# false: 单实例模式
allow_multiple_source_conversion = false


# ----------------------------------------------------------------------
# 界面配置
# ----------------------------------------------------------------------

[interface]
# 界面缩放倍率
# 范围：0.5 ~ 3.0
scale_factor = 1.0


# ----------------------------------------------------------------------
# 渲染配置
# ----------------------------------------------------------------------

[render]
# 渲染模式
# "static": 静态图片模式（使用 img/small_maimai.png）
# "live2d": Live2D 动画模式
mode = "live2d"

# 是否允许运行时切换渲染模式
allow_switch = true


# ----------------------------------------------------------------------
# Live2D 配置
# ----------------------------------------------------------------------

[live2d]
# 是否启用 Live2D
# 如果为 false，则使用静态图片模式
enabled = true

# Live2D 模型文件路径
# 指向 .model3.json 文件的路径
model_path = "data/live2d/hiyori_pro_zh/runtime/hiyori_pro_t11.model3.json"

# 模型名称
model_name = "hiyori_pro_t11"

# 是否启用物理模拟
# 物理模拟可以让模型动作更自然，但会增加 CPU 占用
physics_enabled = true

# 渲染质量
# "low": 低质量（适合低性能设备）
# "medium": 中等质量（平衡性能和效果）
# "high": 高质量（最佳效果，需要较高性能）
render_quality = "high"

# 是否启用 GPU 加速
# 需要显卡支持 OpenGL
gpu_acceleration = true

# 自定义缩放比例
# 范围：0.5 ~ 3.0
# 留空或 0 表示自动根据窗口大小计算（默认行为）
# 示例：1.5 表示放大 1.5 倍
custom_scale = 0.0

# 自定义水平偏移
# 范围：-1.0 ~ 1.0
# 负值向左偏移，正值向右偏移
# 留空或 0 表示使用默认值
# 示例：0.1 表示向右偏移 10%
custom_offset_x = 0.0

# 自定义垂直偏移
# 范围：-1.0 ~ 1.0
# 负值向上偏移，正值向下偏移
# 留空或 0 表示使用默认值
# 示例：-0.2 表示向上偏移 20%
custom_offset_y = 0.0


# ----------------------------------------------------------------------
# 动画配置
# ----------------------------------------------------------------------

[animation]
# 默认动画状态
# 常见值：idle（空闲）, happy（开心）, sad（难过）, talking（说话）
default_state = "idle"

# 默认表情
# 常见值：normal（正常）, happy（开心）, sad（难过）, angry（生气）
default_expression = "normal"

# 动画帧率
# 范围：30 ~ 60
fps = 60

# 是否启用呼吸效果
# 让模型在空闲时有轻微的呼吸动作
breathing_enabled = true


# ----------------------------------------------------------------------
# 性能配置
# ----------------------------------------------------------------------

[performance]
# 最大帧率限制
# 范围：30 ~ 60
max_fps = 60

# 是否启用垂直同步
# 可以防止画面撕裂，但可能导致输入延迟
vsync = true

# 纹理缓存大小（单位：MB）
# 较大的缓存可以减少加载时间，但会占用更多内存
texture_cache_size = 256


# ----------------------------------------------------------------------
# 数据库配置
# ----------------------------------------------------------------------

[database]
# 数据库类型
# 目前支持：sqlite
type = "sqlite"

# 数据库文件路径
path = "data/chat.db"


# ----------------------------------------------------------------------
# 状态配置
# ----------------------------------------------------------------------

[state]
# 窗口是否锁定
# 锁定后无法拖动和交互
window_locked = false

# 窗口是否可见
window_visible = true

# 终端是否可见
console_visible = true


# ----------------------------------------------------------------------
# 注意事项
# ----------------------------------------------------------------------
# 
# 1. Live2D 模型文件要求：
#    - 必须包含 .model3.json 文件
#    - 相关的 .moc3、纹理、动作文件必须在同一目录下
#    - 推荐使用 Cubism Editor 4.0 或更高版本导出的模型
#
# 2. 性能优化建议：
#    - 低性能设备：render_quality = "low", physics_enabled = false, max_fps = 30
#    - 中等性能设备：render_quality = "medium", physics_enabled = true, max_fps = 60
#    - 高性能设备：render_quality = "high", physics_enabled = true, max_fps = 60
#
# 3. 多实例模式：
#    - 启用 allow_multiple_source_conversion 后，会自动为每个实例生成唯一的 platform ID
#    - 适用于需要同时运行多个桌宠的场景
#
# 4. 截图快捷键：
#    - 快捷键格式必须符合 Qt QKeySequence 规范
#    - 常用示例：Ctrl+Shift+A, Alt+F4, F5, Ctrl+S
#
# 5. 调试：
#    - 设置 hide_console = false 可以查看程序运行日志
#    - 日志文件保存在 logs/pet.log
#
# ----------------------------------------------------------------------